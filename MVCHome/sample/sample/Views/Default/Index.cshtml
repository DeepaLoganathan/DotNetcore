@using sample.Model

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<section id="main">
    <section class="sub_heading">
        <div id="user_input">
            <h4 class="heading">Configuration and Samples to run</h4>
            @using (Ajax.BeginForm("Index", "Default", new AjaxOptions { HttpMethod = "Post", UpdateTargetId = "Target" , OnSuccess="displayTarget"}))
            {
                @Html.EJS().DropDownList("net_ver").Index(0).Fields(e => e.Text("Text").Value("Value")).DataSource((List<DropdownModel>)@ViewBag.data).Width("400px").Render()
                @Html.EJS().DropDownList("sync_ver").Index(0).Fields(e => e.Text("Text").Value("Value")).DataSource((List<DropdownModel_Sync>)@ViewBag.sync_ver).Width("400px").Render()
                <div class="e-float-input sync_text">
                    <input id="controller" name="controller" required type="text" autocomplete="off" />
                    <span class="e-float-line"></span>
                    <label class="e-float-text">Controller</label>
                </div>
                <div class="e-float-input sync_text">
                    <input id="view" name="view" required type="text" autocomplete="off">
                    <span class="e-float-line"></span>
                    <label class="e-float-text">View</label>
                </div>
                @*<input type="submit" />*@
                @Html.EJS().Button("submit").Content("Submit").Render()
            }
        </div>
    </section>
    <section class="sub_heading" id="upload_section">
        <h4 class="heading">Upload files</h4>
		<h4 class="upload_file_heading">controller</h4>
        @Html.EJS().Uploader("controller_file").AutoUpload(false).AsyncSettings(new Syncfusion.EJ2.Inputs.UploaderAsyncSettings { SaveUrl = @Url.Content("/Default/Save") }).Uploading("beforeUpload").Render()
        <h4 class="upload_file_heading">View</h4>
		<div class="e-float-input sync_text">
            <input id="view_file_mapping" name="view" required="" type="text" autocomplete="off">
            <span class="e-float-line"></span>
            <label class="e-float-text">Target controller for uploading view file</label>
        </div>
        @Html.EJS().Uploader("view_file").AutoUpload(false).AsyncSettings(new Syncfusion.EJ2.Inputs.UploaderAsyncSettings { SaveUrl = @Url.Content("/Default/Save") }).Uploading("beforeUpload_view").Render()
    </section>
    <section id="Target" class="sub_heading" style="display: none"></section>
</section>
<div class="sb-body-overlay e-view sb-hide">
                <div class="sb-loading">
                    <svg class="circular" height="40" width="40">
                        <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="6" stroke-miterlimit="10"></circle>
                    </svg>
                </div>
            </div>
<script>
    $(function () {
        $("#submit").attr("type", "submit");
        $("#submit").addClass("sync_btn");
    })
    displayTarget = function () {
        $("#Target").show();
        }
   
    beforeUpload = function (args) {
        args.customFormData = [{ 'sync_ver': $("#sync_ver").val()  }];
    }

    beforeUpload_view = function (args) {
        args.customFormData = [{ 'sync_ver': $("#sync_ver").val() }, { 'controller': $("#view_file_mapping").val() }];
    }
</script>




<style>
	.sb-body-overlay {
	display: none;
    z-index: 10000023;
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: rgba(255,255,255,1);
    overflow: hidden;
    pointer-events: none;
}

.sb-loading {
    width: 56px;
    height: 56px;
    position: absolute;
    top: calc(50% - 28px);
    left: calc(50% - 28px);
    z-index: 10000;
    border-radius: 50%;
    padding: 3px;
    box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
    overflow: hidden;
    display: inline-block;
    background: #fff;
}
svg:not(:root) {
    overflow: hidden;
}
.circular {
    animation: rotate 2s linear infinite;
    height: 50px;
    width: 50px;
    border-radius: 50%;
}
	.upload_file_heading{
		display: inline-block;
    color: #3F51B5;
    font-family: sans-serif;
	}
    #upload_section .e-upload.e-control {
        height: fit-content;
    }
    .heading {
        font-family: sans-serif;
        font-weight: bold;
        color: #3F51B5;
        text-align: center;
    }

    #upload_section h4.heading {
        margin: 0px;
    }

    div.heading {
        padding: 23px;
        font-size: 20px;
        background-color: #3F51B5;
        margin-left: 37px;
        margin-right: 37px;
        margin-top: 30px;
        color: white;
    }

    input.e-input, .e-textbox {
        padding: 10px;
    }

    .e-uploadbox.e-widget .e-inputbtn {
        font-size: 14px;
        text-transform: uppercase;
        font-family: 'Roboto',Segoe UI,Helvetica Neue,Ubuntu,Arial;
    }

    h4 {
        margin: 0;
        padding-top: 30px;
    }

    body {
        margin: 0px;
        background-color: #eee;
    }

    #user_input .sync_text {
        width: 400px;
    }

    #upload_section .sync_text {
        width: inherit;
    }

    section#main {
        width: 100%;
    }

    section.sub_heading {
        margin: 37px;
        width: 45%;
        float: left;
        border: 1px solid #eddddd;
        background-color: #ede9e9;
    }

    #user_input form > .sync_btn {
        margin-left: 40%;
        margin-bottom: 26px;
		    background-color: transparent;
    border: 2px solid #3F51B5;
    color: #3F51B5;
    }
	
	#user_input form > .sync_btn:hover {
       
		    background-color: #3F51B5;
   
    }

    #user_input form > * {
        margin-left: 13%;
        margin-top: 20px;
    }

    #upload_section > * {
        margin-left: 14%;
        margin-top: 21px;
        width: 400px;
    }

    #upload_section {
        padding-bottom: 88px;
        margin-left: 0;
    }

    #output {
        padding: 10px;
        width: inherit;
        margin: 23px;
    }

    #Target{
        width: 93%;
        padding: 0;
        margin: 0 37px 37px 37px;
        padding: 10px;
    }
</style>